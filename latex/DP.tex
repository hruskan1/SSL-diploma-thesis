% arara: pdflatex: { synctex: yes }
% arara: makeindex: { style: ctuthesis }
% arara: bibtex

% The class takes all the key=value arguments that \ctusetup does,
% and a couple more: draft and oneside
\documentclass[twoside]{ctuthesis}

\ctusetup{
	preprint = \ctuverlog,
	mainlanguage = english,
	titlelanguage = english,
%	mainlanguage = czech,
	otherlanguages = {czech},
	title-czech = {Částečné učení s učitelem pro časově-prostorovou segmentaci satelitních snímků},
	title-english = {Semi-Supervised Learning for Spatio-Temporal Segmentation of Satellite Images},
	%subtitle-czech = {Cesta do tajů kdovíčeho},
	%subtitle-english = {Journey to the who-knows-what wondeland},
	doctype = M,
	faculty = F3,
 	department-czech = {Katedra kybernetika},
	department-english = {Department of Cybernetics},
	author = {Antonín Hruška},
	supervisor = {doc. Boris Flach, Dr. rer. nat. habil.},
	%supervisor-address = {ss},
	%supervisor-specialist = {John Doe},
	fieldofstudy-english = {Cybernetics and Robotics},
	%subfieldofstudy-english = {Mathematical Modelling},
	fieldofstudy-czech = {Kybernetika a robotika},
	%subfieldofstudy-czech = {Matematické modelování},
	keywords-czech = {TODO},
	keywords-english = {Segmentation, SSL, VAE, LVAE, sVAE, Mixmatch, CityScape},
	day = 26,
	month = 5,
	year = 2023,
	specification-file = {Thesis_Assignment_Antonin_Hruska_Semi-Supervised_Learning_for_Spatio-Temporal_Segmentation_of_Satellite_Images},
	front-specification = true,
	front-list-of-figures = true,
	front-list-of-tables = true,
    pkg-hyperref = true,
% Does not work	pkg-biblatex = true
%	monochrome = true,
%	layout-short = true,
}

\ctuprocess

\addto\ctucaptionsczech{%
	\def\supervisorname{Vedoucí}%
	\def\subfieldofstudyname{Studijní program}%
}

\ctutemplateset{maketitle twocolumn default}{
	\begin{twocolumnfrontmatterpage}
		\ctutemplate{twocolumn.thanks}
		\ctutemplate{twocolumn.declaration}
		\ctutemplate{twocolumn.abstract.in.titlelanguage}
		\ctutemplate{twocolumn.abstract.in.secondlanguage}
		\ctutemplate{twocolumn.tableofcontents}
		\ctutemplate{twocolumn.listoffigures}
	\end{twocolumnfrontmatterpage}
}

% Theorem declarations, this is the reasonable default, anybody can do what they wish.
% If you prefer theorems in italics rather than slanted, use \theoremstyle{plainit}
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{conjecture}[theorem]{Conjecture}

\theoremstyle{note}
\newtheorem*{remark*}{Remark}
\newtheorem{remark}[theorem]{Remark}

\setlength{\parskip}{4ex plus 0.2ex minus 1ex}

% Abstract in Czech
\begin{abstract-czech}
\todo{}
\end{abstract-czech}

% Abstract in English
\begin{abstract-english}
 \todo{}
\end{abstract-english}

% Acknowledgements / Podekovani
\begin{thanks}
\todo{}
\end{thanks}

% Declaration / Prohlaseni
\begin{declaration}
\label{sec:decleration}
I declare that the presented work was developed independently and that I have listed all sources of information
used within it in accordance with the methodical instructions for observing the ethical principles in the preparation 
of university theses.

In particular, I declare that I have not used natural language processing models to generate the ideas and themes used in the thesis. 
Nevertheless, I have used such tools (Grammarly, DeepL) to correct any grammatical or syntactical errors or to translate the original 
Czech version of the text into English and to improve the wording of such text. I have also used the Chat-GPT models for creating code
snippets in both Python and Latex, as well as having a second reader of the thesis. 

In Prague, 26th May, 2023
\end{declaration}

\usepackage{diagbox}
\usepackage{siunitx}
\sisetup{output-decimal-marker={.},exponent-product=\cdot}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{tikz}
\usetikzlibrary{calc}
\usetikzlibrary{shapes, arrows.meta, positioning}
\usetikzlibrary{positioning,automata}
\usepackage{subcaption}
\usepackage{xcolor}
\usepackage{csquotes}
\usepackage{makecell}
\usepackage{physics}
\usepackage{lipsum}
\usepackage{listings}
%\usepackage{julia-mono-listings}

\usepackage{algorithm}
\usepackage{algpseudocode}

% CUSTOM FONT SETTING
\usepackage{tgpagella}

\usepackage{xkeyval}	% Inline todonotes
\usepackage[textsize = footnotesize]{todonotes}
\presetkeys{todonotes}{inline}{}

\usepackage[style=numeric]{biblatex}
\addbibresource{Diploma Thesis.bib}
\DefineBibliographyStrings{english}{%
  bibliography = {References},
}

\usepackage{url}
\usepackage{tabularx}
\usepackage{bookmark}

%%% --- The following two lines are what needs to be added --- %%%
\setcounter{biburllcpenalty}{7000}
\setcounter{biburlucpenalty}{8000}

% Definition of new commands
\newcommand{\argmax}{\mathop{\rm argmax}}
\newcommand{\argmin}{\mathop{\rm argmin}}
\newcommand{\arctg}{\mathop{\rm arctg}}
\newcommand{\tg}{\mathop{\rm tg}}
\newcommand{\aff}{\mathop{\rm aff}}
\newcommand{\conv}{\mathop{\rm conv}}
%\newcommand{\rank}{\mathop{\rm rank}}
\newcommand{\diag}{\mathop{\rm diag}}
\newcommand{\sgn}{\mathop{\rm sgn}}
\newcommand{\Null}{\mathop{\rm null}}
\newcommand{\Rng}{\mathop{\rm rng}}
\newcommand{\dist}{\mathop{\rm dist}}
\renewcommand{\d}[1]{\mbox{\rm d}#1}

%\renewcommand{\phi}{\varphi}

% Change of symbols for footnotes
\renewcommand{\thefootnote}{\fnsymbol{footnote}}
\graphicspath{{./figs/}}
% Boldface vectors. Example: \_x
\def\_#1{\protect\mathchoice
    {\mbox{\boldmath $\displaystyle\bf#1$}}
    {\mbox{\boldmath $\textstyle\bf#1$}}
    {\mbox{\boldmath $\scriptstyle\bf#1$}}
    {\mbox{\boldmath $\scriptscriptstyle\bf#1$}}}

% Blackboard letters. Example: \bb R
\def\bb#1{\mathbb{#1}}

% Custom commands
\def\maxjerk{j_{\mathrm{M}}}

% Rozsireni tabulky kvuli nahnacani symbolu.
\renewcommand{\arraystretch}{1.25}

% Cpp, C#
\newcommand{\CC}{C\nolinebreak\hspace{-.05em}\raisebox{.4ex}{\tiny\bf +}\nolinebreak\hspace{-.10em}\raisebox{.4ex}{\tiny\bf +}}
\newcommand{\CS}{C\nolinebreak\hspace{-.05em}\raisebox{.6ex}{\tiny\bf \#}}

% repeating footnote
\newcommand{\savefootnote}[2]{\footnote{\label{#1}#2}}
\newcommand{\repeatfootnote}[1]{\textsuperscript{\ref{#1}}}

% Colour definitions
\definecolor{myBlue}{HTML}{6666FF}
\definecolor{myGreen}{HTML}{66B366}
\definecolor{myRed}{HTML}{FF6666}

% Make sumint symbol
\DeclareMathOperator*{\SumInt}{%
\mathchoice%
  {\ooalign{$\displaystyle\sum$\cr\hidewidth$\displaystyle\int$\hidewidth\cr}}
  {\ooalign{\raisebox{.14\height}{\scalebox{.7}{$\textstyle\sum$}}\cr\hidewidth$\textstyle\int$\hidewidth\cr}}
  {\ooalign{\raisebox{.2\height}{\scalebox{.6}{$\scriptstyle\sum$}}\cr$\scriptstyle\int$\cr}}
  {\ooalign{\raisebox{.2\height}{\scalebox{.6}{$\scriptstyle\sum$}}\cr$\scriptstyle\int$\cr}}
}

\DeclareRobustCommand{\bbone}{\text{\usefont{U}{bbold}{m}{n}1}}

\DeclareMathOperator{\EX}{\mathbb{E}}

\begin{document}

\maketitle

\chapter{Introduction}
\input{_introduction}

\chapter{State of the art of SSL}
\label{motivation-theory}
In this chapter, we will provide a brief introduction to semi-supervised learning in section \ref{sec:ssl-introduction}, and classify its 
algorithms into several groups based on the ideas and paradigms they employ. Additionally, we will provide a more detailed overview of 
MixMatch and Variational Autoencoders in sections \ref{sec:mix-match} and \ref{sec:vae}, with a particular focus on Variational Autoencoders
as they are cornerstone of the novel approach proposed by \cite{}, which is described in \ref{sec:symmetrical-learning}
\todo{Add reference to unpublished paper}

% SotA SSL
\input{_ssl}
% VAE, HVAE,LVAE
\input{_vae}
% Exp family 
\input{_exp_family}
% Symmetrical learning paper
\input{_sym_learning}

\chapter{Methods}
\label{methods}
\input{_mixmatch_adaptation}
\chapter{Experiments}
\label{experiments}

\section{Segmentation}
\todo{Description of the dataset and the segmentation task,metrics etc}

\todo{Description of our algorithm}
\section{Mixmatch}
\todo{Description of the mixmatch model}
\todo{Implementation details of the two models}


\chapter{Results} 
\label{results}
\todo{10-15 pages}
\todo{Description of the experimental setup}
\todo{Presentation of the results of the experiments}
\todo{Comparison of the results of the ladder autovariational encoder with symmetrical learning and mixmatch models}
\todo{Discussion of the results and analysis of the findings}
\section{MixMatch}
\input{_mixmatch_experiments}


\chapter{Conclusion}
\label{conclusions}
\todo{2-3 pages}	
\todo{Summary of the main findings and contributions}

\printbibliography

%\ctutemplate{specification.as.chapter}

\chapter*{List of used symbols, notations}
\input{_list_of_symbols}

\end{document}